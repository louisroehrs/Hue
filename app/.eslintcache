[{"/Users/lroehrs/awork/Hue/app/src/features/huebridge/hueBridgeService.js":"1","/Users/lroehrs/awork/Hue/app/src/components/Drawer.jsx":"2","/Users/lroehrs/awork/Hue/app/src/algos/hsvandrgb.js":"3","/Users/lroehrs/awork/Hue/app/src/features/huebridge/hueBridgeSlice.js":"4","/Users/lroehrs/awork/Hue/app/src/App.jsx":"5","/Users/lroehrs/awork/Hue/app/src/components/Light.jsx":"6","/Users/lroehrs/awork/Hue/app/src/reportWebVitals.js":"7","/Users/lroehrs/awork/Hue/app/src/store.js":"8","/Users/lroehrs/awork/Hue/app/src/index.js":"9","/Users/lroehrs/awork/Hue/app/src/components/Sensor.jsx":"10","/Users/lroehrs/awork/Hue/app/src/components/DataField.jsx":"11","/Users/lroehrs/awork/Hue/app/src/components/DataFieldGraph.jsx":"12","/Users/lroehrs/awork/Hue/app/src/features/outlets/outletsSlice.js":"13","/Users/lroehrs/awork/Hue/app/src/components/Outlet.jsx":"14","/Users/lroehrs/awork/Hue/app/src/features/chairs/chairSlice.js":"15","/Users/lroehrs/awork/Hue/app/src/components/Chair.jsx":"16","/Users/lroehrs/awork/Hue/app/src/features/chairs/chairService.js":"17","/Users/lroehrs/awork/Hue/app/src/features/outlets/outletService.js":"18"},{"size":2599,"mtime":1619939325155,"results":"19","hashOfConfig":"20"},{"size":439,"mtime":1611475385766,"results":"21","hashOfConfig":"20"},{"size":1560,"mtime":1609744173393,"results":"22","hashOfConfig":"20"},{"size":1301,"mtime":1619890176745,"results":"23","hashOfConfig":"20"},{"size":5584,"mtime":1620003609878,"results":"24","hashOfConfig":"20"},{"size":2011,"mtime":1620005874050,"results":"25","hashOfConfig":"20"},{"size":362,"mtime":1609504977345,"results":"26","hashOfConfig":"20"},{"size":398,"mtime":1619414081000,"results":"27","hashOfConfig":"20"},{"size":642,"mtime":1609747193827,"results":"28","hashOfConfig":"20"},{"size":1535,"mtime":1619940746278,"results":"29","hashOfConfig":"20"},{"size":387,"mtime":1611565035113,"results":"30","hashOfConfig":"20"},{"size":595,"mtime":1611566756373,"results":"31","hashOfConfig":"20"},{"size":1651,"mtime":1620002086602,"results":"32","hashOfConfig":"20"},{"size":1041,"mtime":1620002380939,"results":"33","hashOfConfig":"20"},{"size":1477,"mtime":1619916704737,"results":"34","hashOfConfig":"20"},{"size":953,"mtime":1619940514102,"results":"35","hashOfConfig":"20"},{"size":1338,"mtime":1620004158691,"results":"36","hashOfConfig":"20"},{"size":1474,"mtime":1620004122383,"results":"37","hashOfConfig":"20"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1wl99f9",{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"47","messages":"48","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"63","messages":"64","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"65"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"68"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"73","messages":"74","errorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"75"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"78"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"81","messages":"82","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/Users/lroehrs/awork/Hue/app/src/features/huebridge/hueBridgeService.js",[],"/Users/lroehrs/awork/Hue/app/src/components/Drawer.jsx",[],["83","84"],"/Users/lroehrs/awork/Hue/app/src/algos/hsvandrgb.js",[],"/Users/lroehrs/awork/Hue/app/src/features/huebridge/hueBridgeSlice.js",[],"/Users/lroehrs/awork/Hue/app/src/App.jsx",["85","86","87","88","89","90","91","92"],"import {React, BrowserRouter, useState, useEffect, useCallback} from 'react'\nimport {useSelector, useDispatch} from 'react-redux'\nimport logo from './logo.svg';\nimport './App.css';\nimport useHueBridgeService from \"./features/huebridge/hueBridgeService\";\nimport useOutletService  from './features/outlets/outletService.js';\nimport useChairService from './features/chairs/chairService';\n\nimport Light from \"./components/Light\";\nimport Sensor from \"./components/Sensor\";\nimport Chair from \"./components/Chair\";\nimport {RGBtoHSV} from \"./algos/hsvandrgb\";\nimport Outlet from \"./components/Outlet\";\nimport {current} from \"@reduxjs/toolkit\";\n\nconst App = ({}) =>  {\n\n  const [currentMode,setCurrentMode] = useState(\"CHAIRS\");\n\n  const lights = useSelector( (state) => state.hueBridge.lights);\n  const sensors = useSelector( (state) => state.hueBridge.sensors);\n  const chairs = useSelector( (state) => state.chairs.chairs)\n  const outlets = useSelector((state) => state.outlets.outlets);\n\n  const modes = [\"CHAIRS\",\"LIGHTS\",\"SENSORS\",\"OUTLETS\"];\n\n  const hueBridgeLoading = useSelector ((state) => state.hueBridgeLoading);\n\n  const dispatch = useDispatch();\n  const hueBridgeService = useHueBridgeService(dispatch);\n  const outletService = useOutletService(dispatch);\n  const chairService = useChairService(dispatch);\n\n  const [increment,setIncrement] = useState(0);\n\n  useEffect( () => {\n    hueBridgeService.fetchLights();\n    hueBridgeService.fetchSensors();\n    outletService.fetchOutlets();\n    chairService.fetchChairs();\n    const interval=setInterval(()=>{\n      hueBridgeService.fetchLights();\n      chairService.fetchChairs();\n    },10000)\n    return()=>clearInterval(interval)\n  },[increment]);\n\n\n  const lightClicked = (id,on) => {\n    hueBridgeService.turnLightOn(id,on);\n  }\n\n  const lightColorChange = (id, color) => {\n    const {h,s,v} = RGBtoHSV(color.r,color.g,color.b);\n\n    hueBridgeService.setLightColor(id, {\n      bri:Math.floor(v*254),\n      hue:Math.floor(h*65536),\n      sat:Math.floor(s*255)\n    });\n  }\n\n  const handleOnOutletClick = (outlet) => {\n    if (!outlet.exclusive) {\n      outletService.setOutlet(outlet.id,!outlet.outletOn);\n    }\n    outletService.fetchOutlets();\n  }\n\n  const handleOnChairClick = (chair) => {\n    chairService.requestChair(chair.id, !chair.requested);\n  }\n\n  return (\n    <div className=\"App\">\n      <div className={\"grid\"}>\n        <div className={\"gridheader\"}>\n          <div className={\"gridheaderend\"}/>\n          <div className={\"gridheadergap\"}/>\n          <div className={\"gridheaderbutton\"}/>\n          <div className={\"gridtitle\"}>{currentMode}</div>\n          <div className={\"gridheadergap\"}/>\n        </div>\n      </div>\n      <div className={\"scrollinglist\"}\n           style={{\"height\":(document.body.clientHeight-110)+\"px\"}}>\n\n        <div className={\"grid\"}>\n          {\n            (currentMode === \"LIGHTS\" &&\n              lights.map(light => (\n                <>\n                  <div className={\"gridlefter\"}/>\n                  <Light\n                    id={light.id}\n                    key={light.id}\n                    name={light.name}\n                    on={light.state.on}\n                    bri={light.state.bri}\n                    hue={light.state.hue}\n                    sat={light.state.sat}\n                    onClick={() => lightClicked(light.id, !light.state.on)}\n                    onColorChange={(color) => lightColorChange(light.id, color)}\n                  />\n                </>\n              ))\n            )\n            || (\n              currentMode === \"SENSORS\" &&\n              sensors.map(sensor => (\n                <>\n                  <div className={\"gridlefter\"}/>\n                  <Sensor\n                    key={sensor.id}\n                    id={sensor.id}\n                    name={sensor.name}\n                    type={sensor.type}\n                    modelid={sensor.modelid}\n                    manufacturername={sensor.manufacturername}\n                    uniqueid={sensor.uniqueid}\n                    battery = {sensor.config ? sensor.config.battery:\"na\"}\n                  />\n                </>\n              ))\n            )\n            || (\n              currentMode === \"CHAIRS\" &&\n                chairs.map(chair => (\n                  <>\n                  <div className={\"gridlefter\"}/>\n                  <Chair\n                    key ={chair.name}\n                    name ={ chair.name}\n                    id= {chair.name}\n                    requested = {chair.requested}\n                    poweredOn = {chair.poweredOn}\n                    onClick = {() => handleOnChairClick(chair)}\n                    />\n                  </>\n                )\n            )\n            ) || ( currentMode === \"OUTLETS\" &&\n              outlets.map(outlet => (\n                <>\n                  <div className={\"gridlefter\"}/>\n                  <Outlet\n                    key = {outlet.name}\n                    id={outlet.id}\n                    label={outlet.name}\n                    exclusive = {outlet.exclusive}\n                    outletOn = {outlet.outletOn}\n                    onClick = {() => handleOnOutletClick(outlet)}\n                  />\n                </>\n              ))\n            )\n          }\n        </div>\n      </div>\n      <div className={\"grid\"}>\n        <div className={\"gridfooter\"}>\n          { modes.reverse().map(mode => (\n            <div onClick={() => setCurrentMode(mode)} className={\"gridfooterbutton\"}>{mode}</div>\n          )\n          )}\n\n        </div>\n      </div>\n    </div>\n\n  );\n}\n\nexport default App;\n","/Users/lroehrs/awork/Hue/app/src/components/Light.jsx",["93"],"/Users/lroehrs/awork/Hue/app/src/reportWebVitals.js",[],["94","95"],"/Users/lroehrs/awork/Hue/app/src/store.js",[],["96","97"],"/Users/lroehrs/awork/Hue/app/src/index.js",[],["98","99"],"/Users/lroehrs/awork/Hue/app/src/components/Sensor.jsx",[],"/Users/lroehrs/awork/Hue/app/src/components/DataField.jsx",["100"],"import {React, useState} from \"react\";\n\nconst DataField = ({\n                  id,\n                  label,\n                  value,\n                }) => {\n\n  return (\n    <div className={\"datafield--field\"}>\n      <div className={\"datafield--string\"}>{value == null ? \"na\":value}</div>\n      <div className={\"datafield--label\"}>{label}</div>\n    </div>\n  )\n}\n\nexport default DataField;","/Users/lroehrs/awork/Hue/app/src/components/DataFieldGraph.jsx",["101"],"import {React, useState} from \"react\";\n\nconst DataFieldGraph = ({\n                          id,\n                          label,\n                          value,\n                          barcolor\n                        }) => {\n  return (\n    <div className={\"datafield--field\"}>\n      <div className={\"datafield--string\"}>{value == null ? \"na\":\n        <div className={\"datafield--graph-bar\"} style={{\"width\":value*1.5+\"px\",\"background-color\":barcolor}}>{value}</div>\n      }\n      </div>\n      <div className={\"datafield--label\"}>{label}</div>\n    </div>\n  )\n}\n\nexport default DataFieldGraph;","/Users/lroehrs/awork/Hue/app/src/features/outlets/outletsSlice.js",[],"/Users/lroehrs/awork/Hue/app/src/components/Outlet.jsx",[],"/Users/lroehrs/awork/Hue/app/src/features/chairs/chairSlice.js",["102","103","104","105","106","107","108","109","110"],"import {createSlice} from '@reduxjs/toolkit'\n\nconst initialState = {\n  chairs: [] ,\n//    { id: 0, name: '1', requested: false, poweredOn: false},\n//    { id: 1, name: '2', requested: false, poweredOn: false},\n//    { id: 2, name: '3', requested: false, poweredOn: false},\n\n  error: null,\n}\n\nconst chairSlice  = createSlice ({\n  name: 'chairs',\n  initialState,\n  reducers: {\n    chairsLoading: (state,action) => {\n      state.chairsLoading = true;\n    },\n    chairsFetched: (state,action) => {\n      state.chairs= action.payload.data.query.map( chair => {\n        chair.name = chair.name;\n        chair.requested = chair.requested;\n        chair.poweredOn = chair.poweredOn;\n        return chair})\n      state.chairsLoading = false;\n    },\n\n    chairRequested: (state,action) => {\n      state.chairs= action.payload.data.requestChairOn.map( chair => {\n        chair.name = chair.name;\n        chair.requested = chair.requested;\n        chair.poweredOn = chair.poweredOn;\n        return chair})\n      state.chairsLoading = false;\n    },\n\n    chairsFetchedError: (state,action) => {\n      state.chairs= action.payload.data.map( chair => {\n        chair.name = chair.name;\n        chair.requested = chair.requested;\n        chair.poweredOn = chair.poweredOn;\n        return chair})\n      state.chairsLoading = false;\n    }\n  }\n\n})\n\n\nexport const {\n  chairsLoading,\n  chairsFetched,\n  chairRequested,\n  chairsFetchedError\n} = chairSlice.actions\n\nexport default chairSlice.reducer;\n","/Users/lroehrs/awork/Hue/app/src/components/Chair.jsx",["111"],"import {React, useState, useEffect} from 'react';\nimport './Chair.css';\n\nconst Chair = ({\n\n                 id,\n                 name,\n                 poweredOn,\n                 requested,\n                 onClick\n               }) => {\n\n  const [pressed, setPressed ] = useState(false);\n\n  useEffect ( () =>\n  {\n    setPressed(false);\n  },\n    [requested]\n  );\n\n  const handleOnClick = (e) => {\n    setPressed(true);\n    onClick(e);\n  }\n\n  return (\n    <div key={id}\n         class=\"chair\" onClick={handleOnClick}>\n      <div class=\"label\">{name}\n      </div>\n      <img width={\"100%\"} src={name.toLowerCase().includes(\"couch\")?\"/apollocouch.png\":\"/apollochair.png\"} />\n      <div class={(requested ? 'switchOn' : 'switchOff') + (pressed ? \" pressed\" :\"\")}>{pressed?\"Working\" :requested?\"Requested\":\"Request Heat\"}</div>\n      <div class={poweredOn ? 'poweredOn' : 'poweredOff'}>{poweredOn ? \"On\" : \"Off\"}</div>\n    </div>\n  )\n}\nexport default Chair;","/Users/lroehrs/awork/Hue/app/src/features/chairs/chairService.js",[],"/Users/lroehrs/awork/Hue/app/src/features/outlets/outletService.js",["112","113"],{"ruleId":"114","replacedBy":"115"},{"ruleId":"116","replacedBy":"117"},{"ruleId":"118","severity":1,"message":"119","line":1,"column":16,"nodeType":"120","messageId":"121","endLine":1,"endColumn":29},{"ruleId":"118","severity":1,"message":"122","line":1,"column":52,"nodeType":"120","messageId":"121","endLine":1,"endColumn":63},{"ruleId":"118","severity":1,"message":"123","line":3,"column":8,"nodeType":"120","messageId":"121","endLine":3,"endColumn":12},{"ruleId":"118","severity":1,"message":"124","line":14,"column":9,"nodeType":"120","messageId":"121","endLine":14,"endColumn":16},{"ruleId":"125","severity":1,"message":"126","line":16,"column":14,"nodeType":"127","messageId":"128","endLine":16,"endColumn":16},{"ruleId":"118","severity":1,"message":"129","line":27,"column":9,"nodeType":"120","messageId":"121","endLine":27,"endColumn":25},{"ruleId":"118","severity":1,"message":"130","line":34,"column":20,"nodeType":"120","messageId":"121","endLine":34,"endColumn":32},{"ruleId":"131","severity":1,"message":"132","line":46,"column":5,"nodeType":"133","endLine":46,"endColumn":16,"suggestions":"134"},{"ruleId":"118","severity":1,"message":"135","line":8,"column":20,"nodeType":"120","messageId":"121","endLine":8,"endColumn":28},{"ruleId":"114","replacedBy":"136"},{"ruleId":"116","replacedBy":"137"},{"ruleId":"114","replacedBy":"138"},{"ruleId":"116","replacedBy":"139"},{"ruleId":"114","replacedBy":"140"},{"ruleId":"116","replacedBy":"141"},{"ruleId":"118","severity":1,"message":"142","line":1,"column":16,"nodeType":"120","messageId":"121","endLine":1,"endColumn":24},{"ruleId":"118","severity":1,"message":"142","line":1,"column":16,"nodeType":"120","messageId":"121","endLine":1,"endColumn":24},{"ruleId":"143","severity":1,"message":"144","line":21,"column":22,"nodeType":"145","messageId":"146","endLine":21,"endColumn":32},{"ruleId":"143","severity":1,"message":"147","line":22,"column":27,"nodeType":"145","messageId":"146","endLine":22,"endColumn":42},{"ruleId":"143","severity":1,"message":"148","line":23,"column":27,"nodeType":"145","messageId":"146","endLine":23,"endColumn":42},{"ruleId":"143","severity":1,"message":"144","line":30,"column":22,"nodeType":"145","messageId":"146","endLine":30,"endColumn":32},{"ruleId":"143","severity":1,"message":"147","line":31,"column":27,"nodeType":"145","messageId":"146","endLine":31,"endColumn":42},{"ruleId":"143","severity":1,"message":"148","line":32,"column":27,"nodeType":"145","messageId":"146","endLine":32,"endColumn":42},{"ruleId":"143","severity":1,"message":"144","line":39,"column":22,"nodeType":"145","messageId":"146","endLine":39,"endColumn":32},{"ruleId":"143","severity":1,"message":"147","line":40,"column":27,"nodeType":"145","messageId":"146","endLine":40,"endColumn":42},{"ruleId":"143","severity":1,"message":"148","line":41,"column":27,"nodeType":"145","messageId":"146","endLine":41,"endColumn":42},{"ruleId":"149","severity":1,"message":"150","line":32,"column":7,"nodeType":"151","endLine":32,"endColumn":110},{"ruleId":"118","severity":1,"message":"152","line":2,"column":3,"nodeType":"120","messageId":"121","endLine":2,"endColumn":17},{"ruleId":"118","severity":1,"message":"153","line":5,"column":3,"nodeType":"120","messageId":"121","endLine":5,"endColumn":12},"no-native-reassign",["154"],"no-negated-in-lhs",["155"],"no-unused-vars","'BrowserRouter' is defined but never used.","Identifier","unusedVar","'useCallback' is defined but never used.","'logo' is defined but never used.","'current' is defined but never used.","no-empty-pattern","Unexpected empty object pattern.","ObjectPattern","unexpected","'hueBridgeLoading' is assigned a value but never used.","'setIncrement' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'chairService', 'hueBridgeService', and 'outletService'. Either include them or remove the dependency array.","ArrayExpression",["156"],"'RGBtoHSV' is defined but never used.",["154"],["155"],["154"],["155"],["154"],["155"],"'useState' is defined but never used.","no-self-assign","'chair.name' is assigned to itself.","MemberExpression","selfAssignment","'chair.requested' is assigned to itself.","'chair.poweredOn' is assigned to itself.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","'outletsLoading' is defined but never used.","'outletSet' is defined but never used.","no-global-assign","no-unsafe-negation",{"desc":"157","fix":"158"},"Update the dependencies array to be: [chairService, hueBridgeService, increment, outletService]",{"range":"159","text":"160"},[1686,1697],"[chairService, hueBridgeService, increment, outletService]"]